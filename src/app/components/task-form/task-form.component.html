<form [formGroup]="taskForm" (ngSubmit)="addTask()" class="space-y-6">
  <!-- Campo Titolo -->
  <div>
    <label for="title" class="block text-sm font-medium text-gray-700"
      >Title</label
    >
    <input
      id="title"
      type="text"
      formControlName="title"
      class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
      placeholder="Task Title"
    />
    @if (title?.invalid && title?.touched) {
    <div class="text-red-500 text-sm mt-2">
      @if (title?.errors?.['required']) {
      <p>Title is required</p>
      } @if (title?.errors?.['minlength']) {
      <p>Title must be at least 3 characters</p>
      }
    </div>
    }
  </div>

  <!-- Campo Descrizione -->
  <div>
    <label for="description" class="block text-sm font-medium text-gray-700"
      >Description</label
    >
    <textarea
      id="description"
      formControlName="description"
      class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
      placeholder="Task Description"
    ></textarea>
    @if (description?.invalid && description?.touched) {
    <div class="text-red-500 text-sm mt-2">
      @if (description?.errors?.['required']) {
      <p>Description is required</p>
      } @if (description?.errors?.['minlength']) {
      <p>Description must be at least 5 characters</p>
      }
    </div>
    }
  </div>

  <!-- Campo Stato -->
  <div>
    <label for="status" class="block text-sm font-medium text-gray-700"
      >Status</label
    >
    <select
      id="status"
      formControlName="status"
      class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"
    >
      @for ( status of taskStatuses; track status) {
      <option [value]="status">{{ status }}</option>
      }
    </select>
  </div>

  <!-- Pulsante di invio -->
  <button
    type="submit"
    [disabled]="taskForm.invalid"
    class="w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg mt-4 disabled:opacity-50"
  >
    Add Task
  </button>
</form>
